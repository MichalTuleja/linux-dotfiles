#################################
# Picom config for i3 with:
# - Rounded corners
# - Violet frame on focused window
# - Shadows
# - Opacity + animation optional
#################################

# Backend
backend = "glx";  # xrender for best compatibility with i3

# Corner radius
corner-radius = 6;
round-borders = 1;

rounded-corners-exclude = [
  "class_g = 'i3bar'"
];

# Border (frame) color around focused window
# picom doesn't draw borders by itself, but we can fake it with shadow hacks
shadow = false;
shadow-radius = 10;
shadow-opacity = 0.5;
shadow-offset-x = 0;
shadow-offset-y = 0;

shadow-exclude = [
  "class_g = 'Dunst'",
  "class_g = 'nm-applet'",
  "name *= 'Notification'",
  "class_g = 'i3bar'",
  "class_g = 'i3blocks'"
];

# Fake border using shadow color
shadow-color = "#3f3cbb"

# Make unfocused shadows fade a bit
inactive-opacity = 0.97
active-opacity = 1.0
opacity-change-rate = 0.0

# Avoid stacking glitches
use-damage = true;
vsync = true;

# Transparency rules (optional)
opacity-rule = [
  "100:class_g = 'Dunst'",
  "100:class_g = 'nm-applet'"
];

# Animations (optional, disable if you prefer snappy i3)
# fading = true
# fade-in-step = 0.38
# fade-out-step = 0.38

# Blur (optional, not supported in xrender)
# blur-method = "dual_kawase"
